(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{128:function(e,t,n){"use strict";n.r(t);var a=n(137),r=n(47),o=n.n(r),c=n(24),l=n.n(c),s=n(1),i=n.n(s),u=n(4),d=n(11),f=n(7),m=n(20),h=n(14),p=n.n(h),g=n(63);function y(e){return e[0].toUpperCase()+e.substring(1,e.length)}function E(e){return e.sort((function(){return Math.random()-.5}))}var b=["details","url"],x=["name","school","level","castingTime","range","components","duration","details","url"],v=x.filter((function(e){return!b.includes(e)})),C=u.a.create({cardContainer:{width:320,height:470},card:{width:320,height:500,backgroundColor:"#000",borderRadius:5,shadowColor:"rgba(0,0,0,0.5)",shadowOffset:{width:0,height:1},shadowOpacity:.5,borderColor:"#222",borderWidth:1,padding:"5%"},card1:{backgroundColor:"#FFF"},card2:{backgroundColor:"#000"},label:{lineHeight:470,textAlign:"center",fontSize:55,fontFamily:"System",color:"#ffffff",backgroundColor:"transparent"},prompt:{textAlign:"center",fontWeight:"bold",fontSize:17,marginBottom:"3%"},textRow:{marginBottom:"5%"},textBold:{fontWeight:"bold",fontSize:16,color:"#222",marginRight:"1%",marginBottom:"1%"},text:{fontSize:14,color:"#222"},textBoldInverted:{color:"#FFF"},textInverted:{color:"#FFF"}}),w=Object(s.memo)((function(e){var t=p()({},e),n=v[Math.floor(Math.random()*v.length)],a=Object(s.useRef)(null),r=function(e){a.current&&a.current.flip()};return i.a.createElement(g.a,{style:C.cardContainer,ref:a},i.a.createElement(m.a,{activeOpacity:1,style:[C.card,C.card1],onPress:r},i.a.createElement(d.a,{style:C.prompt},"What is the ",n.replace(/([A-Z])/g," $1").toLowerCase()," of this spell?"),Object.keys(t).map((function(e,a){var r=x[a];if(r!==n&&!b.includes(r))return i.a.createElement(f.a,{style:C.textRow,key:r},i.a.createElement(d.a,{style:C.textBold},y(r),": "),i.a.createElement(d.a,{style:C.text},t[r]))}))),i.a.createElement(m.a,{activeOpacity:1,style:[C.card,C.card2],onPress:r},i.a.createElement(f.a,{style:C.textRow},i.a.createElement(d.a,{style:[C.textBold,C.textBoldInverted]},y(n),":"," "),i.a.createElement(d.a,{style:[C.text,C.textInverted]},t[n]))))})),j=n(61);function k(e){var t=e.spells,n=Object(s.useState)(0),a=l()(n,2),r=a[0],o=a[1],c=Object(s.useRef)(null),u=function(){o(r+1)},m=t.slice(0,r+4);return 0!==t.length?i.a.createElement(j.a,{duration:250,style:O.cardStackContainer,ref:c,renderNoMoreCards:function(){return i.a.createElement(f.a,null,i.a.createElement(d.a,null,"You're all out of cards!"))},onSwiped:u,horizontalThreshold:50},m.map((function(e){return i.a.createElement(w,p()({key:e.name},e))}))):i.a.createElement(f.a,{style:O.container},i.a.createElement(d.a,null,"Loading Spells..."))}var O=u.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},cardStackContainer:{flex:5,alignItems:"center",justifyContent:"center"}}),S=n(62),I=Object(s.memo)((function(e){var t=p()({},e),n=(v[Math.floor(Math.random()*v.length)],Object(s.useRef)(null)),a=function(e){n.current&&n.current.flip()};return i.a.createElement(g.a,{style:C.cardContainer,ref:n},i.a.createElement(m.a,{activeOpacity:1,style:[C.card,C.card1],onPress:a},Object.keys(t).map((function(e,n){var a=x[n];if(!b.includes(a))return i.a.createElement(f.a,{style:C.textRow,key:a},i.a.createElement(d.a,{style:C.textBold},y(a),": "),i.a.createElement(d.a,{style:C.text},t[a]))}))),i.a.createElement(m.a,{activeOpacity:1,style:[C.card,C.card2],onPress:a},i.a.createElement(S.a,null,b.map((function(e){return i.a.createElement(f.a,{key:e,style:C.textRow},i.a.createElement(d.a,{style:[C.textBold,C.textBoldInverted]},y(e),":"),i.a.createElement(d.a,{style:[C.text,C.textInverted]},t[e]))})))))}));function B(e){var t=e.spells,n=Object(s.useState)(0),a=l()(n,2),r=a[0],o=a[1],c=Object(s.useRef)(null),u=function(){o(r+1)},m=t.slice(0,r+4);return 0!==t.length?i.a.createElement(j.a,{duration:250,style:F.cardStackContainer,ref:c,renderNoMoreCards:function(){return i.a.createElement(f.a,null,i.a.createElement(d.a,null,"You're all out of cards!"))},onSwiped:u,horizontalThreshold:50},m.map((function(e){return i.a.createElement(I,p()({key:e.name},e))}))):i.a.createElement(f.a,{style:F.container},i.a.createElement(d.a,null,"Loading Spells..."))}var F=u.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},cardStackContainer:{flex:5,alignItems:"center",justifyContent:"center"}}),R=n(74);var T=u.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},header:{marginTop:"2%",flexDirection:"row",justifyContent:"space-around",alignItems:"center",width:200},headerItem:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",paddingBottom:"2%",borderBottomWidth:4,borderBottomColor:"transparent"},activeTab:{borderBottomColor:"#000"},headerItemText:{color:"#000"}});Object(a.a)((function(){var e=Object(s.useState)(!1),t=l()(e,2),n=t[0],a=t[1],r=Object(s.useState)([]),c=l()(r,2),u=c[0],h=c[1],p=Object(s.useState)(0),g=l()(p,2),y=(g[0],g[1],Object(s.useState)(!0)),b=l()(y,2);b[0],b[1],Object(s.useRef)(null),Object(s.useEffect)((function(){!function(){var e;o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=JSON,t.next=4,o.a.awrap(R.a.getItem("SPELLS"));case 4:t.t1=t.sent,null!==(e=t.t0.parse.call(t.t0,t.t1))?(console.log("rehydrating from cache"),h(E(e))):fetch("https://spell-scraper.now.sh/api/spells",{cache:"force-cache"}).then((function(e){return e.json()})).then((function(e){h(E(e)),R.a.setItem("SPELLS",JSON.stringify(e))})).catch((function(e){console.log(new Error(e))})),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(0),console.error(new Error(t.t2));case 12:case"end":return t.stop()}}),null,null,[[0,9]],Promise)}()}),[]);var x=function(){a(!n),h(E(u))};return i.a.createElement(f.a,{style:T.container},i.a.createElement(f.a,{style:T.header},i.a.createElement(m.a,{onPress:x,style:[T.headerItem,n?{}:T.activeTab]},i.a.createElement(d.a,{style:T.headerItemText},"Flash")),i.a.createElement(m.a,{onPress:x,style:[T.headerItem,n?T.activeTab:{}]},i.a.createElement(d.a,{style:T.headerItemText},"Quiz"))),n?i.a.createElement(k,{spells:u}):i.a.createElement(B,{spells:u}))}))},93:function(e,t,n){n(94),e.exports=n(128)},94:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/spell-slinger/expo-service-worker.js",{scope:"/spell-slinger/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[93,1,2]]]);
//# sourceMappingURL=app.0b3c832a.chunk.js.map